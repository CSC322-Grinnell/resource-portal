.row.resource-block
  %h3
    = link_to resource, class: "resource-name", target: "_blank" do
      = resource.name

  %p.description #{resource.description_of_service}

  .col-md-6
    %ul{:class => "list-group"}

      - if resource.address == "n/a"
        %li Address: #{resource.address}
      - else
        %li
          Address:
          = link_to resource.address,
                    "http://www.google.com/maps/place/#{url_encode(resource.address)}",
                    :target => "_blank"

      - if resource.alternative_address == "n/a"
        %li Alternative Address: #{resource.alternative_address}
      - else
        %li
          Alternative Address:
          = link_to resource.alternative_address,
                    "http://www.google.com/maps/place/#{url_encode(resource.alternative_address)}",
                    :target => "_blank"

      %li Phone: #{resource.phone_number}
      %li Alternative Phone: #{resource.alternative_phone_number}

      / This turns the displayed link into a hyperlink.
      / Referenced: http://mixandgo.com/blog/how-to-use-link_to-in-rails
      / http://stackoverflow.com/questions/5851999/how-do-i-put-text-and-ruby-code-from-link-to-on-the-same-line-in-haml
      / http://stackoverflow.com/questions/8026619/how-to-write-if-condition-in-haml
      - if resource.website == "n/a"
        %li Website: #{resource.website}
      - else
        %li Website: #{link_to resource.website, "http://"+resource.website, :target => "_blank"}

      %li Fax: #{resource.fax_number}
      %li Contact Email: #{resource.contact_email}
      %li Agency Email: #{resource.agency_email}
      %li Name of Submitter: #{resource.name_of_submitter}

  -# render one of several optional accessory partial views on the right-hand
  -# side of the resource (located in resources/accessories)
  .col-md-6.accessory
    - if defined? accessory
      = render partial: "resources/accessories/#{accessory}", locals: { resource: resource }
